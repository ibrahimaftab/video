function addScript(e,t){var n=document.createElement("script");return n.src=e,n.id="videomania-"+t,document.body.append(n),n}function qualityListHeight(e){var t=document.querySelector(e+" dropdown"),{paddingTop:t,paddingBottom:n}=getComputedStyle(t),o=document.querySelector(e+" #quality-list")["offsetHeight"],e=`@layer settings {${e} dropdown.show-quality{height: ${o+parseInt(t)+parseInt(n)}px}}`;document.querySelector("#videomania-style").insertAdjacentHTML("beforeend",e)}async function forwardRewindIcon(e,t){var n,{rewindIcon:o,forwardIcon:r}=await import("./icons.js");"ArrowLeft"!==t&&"ArrowRight"!==t||((n=document.createElement("forward-rewind")).innerHTML="ArrowLeft"===t?o:r,n.id="forward-rewind",e.append(n),setTimeout(()=>{e.querySelector("#forward-rewind").remove()},300))}async function volumeIcon(e,t){var n,{muteIcon:o,audioIcon:r}=await import("./icons.js");"m"===t&&(t=document.createElement("forward-rewind"),n=e.querySelector("video"),t.innerHTML=n.muted?o:r,t.id="volume-change",e.append(t),setTimeout(()=>{e.querySelector("#volume-change").remove()},300))}async function replayIconBtn(t){var e=(await import("./icons.js"))["replayIcon"];const n=document.createElement("replay"),o=t["video"];n.innerHTML=e,t.append(n),n.addEventListener("click",function(e){e.preventDefault(),n.remove(),o.play(),t.dataset.toggle="played"})}const initialObj={selector:null,width:800,height:450,autoplay:!1,muted:!1,loop:!1,url:null,id:null,qualities:[],subtitles:[],toggleSubtitle:!1,forward:10,backward:10},videoManiaInitEvent=new Event("videoManiaInit");async function videoManiaLive(e){var t=(await import("./icons.js"))["liveIcon"],n=document.createElement("live");n.innerHTML=t,n.append("Live"),e.querySelector("timeline").remove(),e.querySelector("play").after(n)}function videoDurationFormat(e,t=!1){if(e.duration){var n=new Date(null),e=t?e.duration-e.currentTime:e.duration;if(e!=1/0)return n.setSeconds(e),(e=n?.toISOString().substr(11,8))&&"00"!=e?.split(":")[0]?(t?"-":"")+e:(t?"-":"")+(n=e.split(":"))[1]+":"+n[2]}}function setDropdownSettingHeight(e){var t=e.setting.querySelector("#setting-dropdown"),n=e.dropdown,e=e.parentElement,t=t["offsetHeight"],{paddingTop:n,paddingBottom:o}=getComputedStyle(n),t=t+parseInt(n)+parseInt(o),n=`@layer settings ${e.dataset.selector} dropdown{height: ${t}px}}`;document.querySelector("#videomania-style").insertAdjacentHTML("beforeend",n)}function onCueChange(n,e){for(let t=0;t<n.target.textTracks.length;t++){n.target.textTracks[t].mode=e?"showing":"hidden";for(let e=0;e<n.target.textTracks[t].cues.length;e++)n.target.textTracks[t].cues[e].line=-2.5}}async function checkVideoBuffer(t){let n=0,o,r=!1;const i=await import("./events.js"),a=t["video"];setInterval(function(){o=a.currentTime;!r&&o<n+.03&&!a.paused&&1<=a.playable&&(r=!0);r&&o>n+.03&&!a.paused&&(r=!1);n=o;var e=r?i.default.loading:i.default.loaded;triggerEvent(e,t)},50)}const retrieveFormat=e=>e.split(".")[e.split(".").length-1].toLowerCase(),triggerEvent=(e,t)=>t.dispatchEvent(new Event(e));export{addScript,qualityListHeight,forwardRewindIcon,volumeIcon,replayIconBtn,initialObj,videoManiaInitEvent,videoManiaLive,videoDurationFormat,setDropdownSettingHeight,onCueChange,checkVideoBuffer,retrieveFormat,triggerEvent};